# E2Eテストガイド

## 📋 利用可能な状態
E2Eテスト（Playwright）は設定済みでいつでも使用可能です。

## 🚀 使い方

### 初回セットアップ
```bash
# ブラウザをインストール（初回のみ）
npx playwright install
```

### テスト実行
```bash
# 通常実行（ヘッドレス）
pnpm test:e2e

# UIモード（デバッグ用）
pnpm test:e2e:ui

# ブラウザ表示付き
pnpm test:e2e:headed
```

**注意**: Playwrightが自動で開発サーバーを起動しますが、初回は30秒程度かかる場合があります。

## 🎯 使い分け

### 日常開発（推奨）
```bash
pnpm test        # ユニットテストのみ（1秒）
pnpm validate    # 全検証（E2E除く、10秒）
```

### E2Eテストが必要な場合
- 重要なUI変更後の確認
- リリース前の最終チェック
- CI/CDパイプラインでの自動実行

## 📊 テスト種別の比較

| 種別 | 実行時間 | 安定性 | 用途 |
|------|---------|--------|------|
| ユニットテスト | 1秒 | 高 | 日常開発 |
| E2Eテスト | 30-60秒 | 中 | UI確認・リリース前 |

## 💡 E2Eテストの課題と対策

### 課題
1. **実行時間が長い**: サーバー起動とブラウザ操作で30-60秒
2. **不安定**: ネットワークやタイミングの問題
3. **メンテナンスコスト**: UI変更のたびに修正が必要

### 対策
- 重要な機能のみE2Eテストを作成
- ユニットテストで可能な限りカバー
- CI/CDで定期実行して問題を早期発見

## 📝 テストファイルの場所

- **ユニットテスト**: `src/features/*/api/*.test.ts`
- **E2Eテスト**: `tests/e2e/*.spec.ts`

必要に応じてE2Eテストを追加してください。デフォルトではユニットテストのみで十分です。