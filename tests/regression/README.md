# 回帰テスト（Regression Tests）

このディレクトリには、バグ修正時に作成するテストを配置します。
一度修正したバグが二度と発生しないことを保証するための永続的なテストです。

## 📋 命名規則

`YYYY-MM-DD-NNN-description.test.ts`

- **YYYY-MM-DD**: バグ修正日（例: 2025-01-15）
- **NNN**: その日の連番（001から開始）
- **description**: バグの簡潔な説明（kebab-case）

### 命名例

- `2025-01-15-001-login-infinite-loop.test.ts`
- `2025-01-15-002-cart-calculation-error.test.ts`
- `2025-01-16-001-api-timeout-handling.test.ts`

## 📝 テストファイルテンプレート

```typescript
/**
 * Bug ID: YYYY-MM-DD-NNN
 * Date: YYYY-MM-DD
 * Issue: [何が起きていたかを具体的に記述]
 * Feature: [関連するフィーチャー名]
 * Fixed by: [修正コミットハッシュ（オプション）]
 */

import { describe, it, expect } from 'vitest'

describe('Regression: YYYY-MM-DD-NNN - [バグの簡潔な説明]', () => {
  it('should [期待する動作を記述]', () => {
    // バグを再現するテストケース
    // このテストは修正前は失敗し、修正後は成功する
  })
})
```

## 🔴 重要な原則

1. **削除禁止**: 一度作成した回帰テストは削除しない
2. **独立性**: 各テストは他のテストに依存しない
3. **明確性**: テスト名とコメントで問題を明確に説明
4. **再現性**: バグの再現条件を正確にテストする

## 🎯 バグ修正の流れ

1. バグ報告を受ける
2. このディレクトリに再現テストを作成
3. テストが失敗することを確認（バグの存在証明）
4. バグを修正
5. テストが成功することを確認（修正の証明）
6. 他のテストも全て成功することを確認

## 📊 効果

- **回帰防止**: 修正済みバグの再発を100%防止
- **品質向上**: バグが多い箇所が可視化される
- **知識蓄積**: バグパターンが文書化される
- **信頼性**: 「修正済み」の証明になる
